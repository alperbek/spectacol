# Legend
#
# b
#     3-bit value.
# n
#     8-bit value.
# nn
#     16-bit value, little-endian. E.g. the JP 1234H opcode is C3 34 12.
# o
#     8-bit offset, 2â€™s complement.
# p
#     8-bit offset address
# r
#     Register. This can be A, B, C, D, E, H or L. Add the following value to the last byte of the opcode:
#     Register         Register bits value
#     A        7
#     B        0
#     C        1
#     D        2
#     E        3
#     H        4
#     L        5
# IXq
#     Denotes the high or low part of the IX register: IXh or IXl. Add the following value to the last byte of the opcode:
#     Register         Register bits value
#     IXh      4
#     IXl      5
# IYq
#     Denotes the high or low part of the IY register: IYh or IYl. Add the following value to the last byte of the opcode:
#     Register         Register bits value
#     IYh      4
#     IYl      5

# the following lines have the rules for validating the input
% b \b([0-7])
% nn \b(0x[0-F]{4,6}|[0-F]{4,6}H?)
% n \b(0x[0-F]{2}|[0-F]{2}H?)
% o \b([\+\-]0x[0-F]{2}|[\+\-][0-F]{2}H?)
% p \b(0x[0-F]{4,6}|[0-F]{4,6}H?)
% r \b([A-E]|H|L)
% IXq \b(IXh|IXl)
% IYq \b(IYh|IYl)

# the following lines contains the values of the registers
= A 7
= B 0
= C 1
= D 2
= E 3
= H 4
= L 5
= IXh 4
= IXl 5
= IYh 4
= IYl 5

ADC A,(HL) 	0x8E
ADC A,(IXo) 	0xDD 0x8E o
ADC A,(IYo) 	0xFD 0x8E o
ADC A,n 	0xCE n
ADC A,r 	0x88+r
ADC A,IXq 	0xDD 0x88+IXq
ADC A,IYq 	0xFD 0x88+IYq
ADC HL,BC 	0xED 0x4A
ADC HL,DE 	0xED 0x5A
ADC HL,HL 	0xED 0x6A
ADC HL,SP 	0xED 0x7A
ADD A,(HL) 	0x86
ADD A,(IXo) 	0xDD 0x86 o
ADD A,(IYo) 	0xFD 0x86 o
ADD A,n 	0xC6 n
ADD A,r 	0x80+r
ADD A,IXq 	0xDD 0x80+IXq
ADD A,IYq 	0xFD 0x80+IYq
ADD HL,BC 	0x09
ADD HL,DE 	0x19
ADD HL,HL 	0x29
ADD HL,SP 	0x39
ADD IX,BC 	0xDD 0x09
ADD IX,DE 	0xDD 0x19
ADD IX,IX 	0xDD 0x29
ADD IX,SP 	0xDD 0x39
ADD IY,BC 	0xFD 0x09
ADD IY,DE 	0xFD 0x19
ADD IY,IY 	0xFD 0x29
ADD IY,SP 	0xFD 0x39
AND (HL) 	0xA6
AND (IXo) 	0xDD 0xA6 o
AND (IYo) 	0xFD 0xA6 o
AND n 	0xE6 n
AND r 	0xA0+r
AND IXq 	D0xD 0xA0+IXq
AND IYq 	0xFD 0xA0+IYq
BIT b,(HL) 	0xCB 0x46+8*b
BIT b,(IXo) 	0xDD 0xCB o 0x46+8*b
BIT b,(IYo) 	0xFD 0xCB o 0x46+8*b
BIT b,r 	0xCB 0x40+8*b+r
CALL nn 	0xCD nn
CALL C,nn 	0xDC nn
CALL M,nn 	0xFC nn
CALL NC,nn 	0xD4 nn
CALL NZ,nn 	0xC4 nn
CALL P,nn 	0xF4 nn
CALL PE,nn 	0xEC nn
CALL PO,nn 	0xE4 nn
CALL Z,nn 	0xCC nn
CCF 	0x3F
CP (HL) 	0xBE
CP (IXo) 	0xDD 0xBE o
CP (IYo) 	0xFD 0xBE o
CP n 	0xFE n
CP r 	0xB8+r
CP IXq 	0xDD 0xB8+IXq
CP IYq 	0xFD 0xB8+IYq
CPD 	0xED 0xA9
CPDR 	0xED 0xB9
CPI 	0xED 0xA1
CPIR 	0xED 0xB1
CPL 	0x2F
DAA 	0x27
DEC (HL) 	0x35
DEC (IXo) 	0xDD 0x35 o
DEC (IYo) 	0xFD 0x35 o
DEC A 	0x3D
DEC B 	0x05
DEC BC 	0x0B
DEC C 	0x0D
DEC D 	0x15
DEC DE 	0x1B
DEC E 	0x1D
DEC H 	0x25
DEC HL 	0x2B
DEC IX 	0xDD 0x2B
DEC IY 	0xFD 0x2B
DEC IXq 	0xDD 0x05+8*IXq
DEC IYq 	0xFD 0x05+8*IYq
DEC L 	0x2D
DEC SP 	0x3B
DI 	0xF3
DJNZ p 	0x10 p
EI 	0xFB
EX (SP),HL 	0xE3
EX (SP),IX 	0xDD 0xE3
EX (SP),IY 	0xFD 0xE3
EX AF,AF' 	0x08
EX DE,HL 	0xEB
EXX 	0xD9
HALT 	0x76
IM 0 	0xED 0x46
IM 1 	0xED 0x56
IM 2 	0xED 0x5E
IN A,(C) 	0xED 0x78
IN A,(n) 	0xDB n
IN B,(C) 	0xED 0x40
IN C,(C) 	0xED 0x48
IN D,(C) 	0xED 0x50
IN E,(C) 	0xED 0x58
IN H,(C) 	0xED 0x60
IN L,(C) 	0xED 0x68
IN F,(C) 	0xED 0x70
INC (HL) 	0x34
INC (IXo) 	0xDD 0x34 o
INC (IYo) 	0xFD 0x34 o
INC A 	0x3C
INC B 	0x04
INC BC 	0x03
INC C 	0x0C
INC D 	0x14
INC DE 	0x13
INC E 	0x1C
INC H 	0x24
INC HL 	0x23
INC IX 	0xDD 0x23
INC IY 	0xFD 0x23
INC IXq 	0xDD 0x04+8*IXq
INC IYq 	0xFD 0x04+8*IYq
INC L 	0x2C
INC SP 	0x33
IND 	0xED 0xAA
INDR 	0xED 0xBA
INI 	0xED 0xA2
INIR 	0xED 0xB2
JP nn 	0xC3 nn
JP (HL) 	0xE9
JP (IX) 	0xDD 0xE9
JP (IY) 	0xFD 0xE9
JP C,nn 	0xDA nn
JP M,nn 	0xFA nn
JP NC,nn 	0xD2 nn
JP NZ,nn 	0xC2 nn
JP P,nn 	0xF2 nn
JP PE,nn 	0xEA nn
JP PO,nn 	0xE2 nn
JP Z,nn 	0xCA nn
JR p 	0x18 p
JR C,p 	0x38 p
JR NC,p 	0x30 p
JR NZ,p 	0x20 p
JR Z,p 	0x28 p
LD (BC),A 	0x02
LD (DE),A 	0x12
LD (HL),n 	0x36 n
LD (HL),r 	0x70+r
LD (IXo),n 	0xDD 0x36 o n
LD (IXo),r 	0xDD 0x70+r o
LD (IYo),n 	0xFD 0x36 o n
LD (IYo),r 	0xFD 0x70+r o
LD (nn),A 	0x32 nn
LD (nn),BC 	0xED 0x43 nn
LD (nn),DE 	0xED 0x53 nn
LD (nn),HL 	0x22 nn
LD (nn),IX 	0xDD 0x22 nn
LD (nn),IY 	0xFD 0x22 nn
LD (nn),SP 	0xED 0x73 nn
LD A,(BC) 	0x0A
LD A,(DE) 	0x1A
LD A,(HL) 	0x7E
LD A,(IXo) 	0xDD 0x7E o
LD A,(IYo) 	0xFD 0x7E o
LD A,(nn) 	0x3A nn
LD A,n 	0x3E n
LD A,r 	0x78+r
LD A,IXq 	0xDD 0x78+IXq
LD A,IYq 	0xFD 0x78+IYq
LD A,I 	0xED 0x57
LD A,R 	0xED 0x5F
LD B,(HL) 	0x46
LD B,(IXo) 	0xDD 0x46 o
LD B,(IYo) 	0xFD 0x46 o
LD B,n 	0x06 n
LD B,r 	0x40+r
LD B,IXq 	0xDD 0x40+IXq
LD B,IYq 	0xFD 0x40+IYq
LD BC,(nn) 	0xED 0x4B nn
LD BC,nn 	0x01 nn
LD C,(HL) 	0x4E
LD C,(IXo) 	0xDD 0x4E o
LD C,(IYo) 	0xFD 0x4E o
LD C,n 	0x0E n
LD C,r 	0x48+r
LD C,IXq 	0xDD 0x48+IXq
LD C,IYq 	0xFD 0x48+IYq
LD D,(HL) 	0x56
LD D,(IXo) 	0xDD 0x56 o
LD D,(IYo) 	0xFD 0x56 o
LD D,n 	0x16 n
LD D,r 	0x50+r
LD D,IXq 	0xDD 0x50+IXq
LD D,IYq 	0xFD 0x50+IYq
LD DE,(nn) 	0xED 0x5B nn
LD DE,nn 	0x11 nn
LD E,(HL) 	0x5E
LD E,(IXo) 	0xDD 0x5E o
LD E,(IYo) 	0xFD 0x5E o
LD E,n 	0x1E n
LD E,r 	0x58+r
LD E,IXq 	0xDD 0x58+IXq
LD E,IYq 	0xFD 0x58+IYq
LD H,(HL) 	0x66
LD H,(IXo) 	0xDD 0x66 o
LD H,(IYo) 	0xFD 0x66 o
LD H,n 	0x26 n
LD H,r 	0x60+r
LD HL,(nn) 	0x2A nn
LD HL,nn 	0x21 nn
LD I,A 	0xED 0x47
LD IX,(nn) 	0xDD 0x2A nn
LD IX,nn 	0xDD 0x21 nn
LD IXh,n 	0xDD 0x26 n
LD IXh,p 	0xDD 0x60+IXq
LD IXl,n 	0xDD 0x2E n
LD IXl,p 	0xDD 0x68+IXq
LD IY,(nn) 	0xFD 0x2A nn
LD IY,nn 	0xFD 0x21 nn
LD IYh,n 	0xFD 0x26 n
LD IYh,q 	0xFD 0x60+IYq
LD IYl,n 	0xFD 0x2E n
LD IYl,q 	0xFD 0x68+IYq
LD L,(HL) 	0x6E
LD L,(IXo) 	0xDD 0x6E o
LD L,(IYo) 	0xFD 0x6E o
LD L,n 	0x2E n
LD L,r 	0x68+r
LD R,A 	0xED 0x4F
LD SP,(nn) 	0xED 0x7B nn
LD SP,HL 	0xF9
LD SP,IX 	0xDD 0xF9
LD SP,IY 	0xFD 0xF9
LD SP,nn 	0x31 nn
LDD 	0xED 0xA8
LDDR 	0xED 0xB8
LDI 	0xED 0xA0
LDIR 	0xED 0xB0
MULUB A,r 	0xED 0xC1+8*r
MULUW HL,BC 	0xED 0xC3
MULUW HL,SP 	0xED 0xF3
NEG 	0xED 0x44
NOP 	0x00
NOPD 	0xED 0x00
OR (HL) 	0xB6
OR (IXo) 	0xDD 0xB6 o
OR (IYo) 	0xFD 0xB6 o
OR n 	0xF6 n
OR r 	0xB0+r
OR IXq 	0xDD 0xB0+IXq
OR IYq 	0xFD 0xB0+IYq
OTDR 	0xED 0xBB
OTIR 	0xED 0xB3
OUT (C),A 	0xED 0x79
OUT (C),B 	0xED 0x41
OUT (C),C 	0xED 0x49
OUT (C),D 	0xED 0x51
OUT (C),E 	0xED 0x59
OUT (C),H 	0xED 0x61
OUT (C),L 	0xED 0x69
OUT (n),A 	0xD3 n
OUTD 	0xED 0xAB
OUTI 	0xED 0xA3
POP AF 	0xF1
POP BC 	0xC1
POP DE 	0xD1
POP HL 	0xE1
POP IX 	0xDD 0xE1
POP IY 	0xFD 0xE1
PUSH AF 	0xF5
PUSH BC 	0xC5
PUSH DE 	0xD5
PUSH HL 	0xE5
PUSH IX 	0xDD 0xE5
PUSH IY 	0xFD 0xE5
RES b,(HL) 	0xCB 0x86+8*b
RES b,(IXo) 	0xDD 0xCB o 0x86+8*b
RES b,(IYo) 	0xFD 0xCB o 0x86+8*b
RES b,r 	0xCB 0x80+8*b+r
RET 	0xC9
RET C 	0xD8
RET M 	0xF8
RET NC 	0xD0
RET NZ 	0xC0
RET P 	0xF0
RET PE 	0xE8
RET PO 	0xE0
RET Z 	0xC8
RETI 	0xED 0x4D
RETN 	0xED 0x45
RL (HL) 	0xCB 0x16
RL (IXo) 	0xDD 0xCB o 0x16
RL (IYo) 	0xFD 0xCB o 0x16
RL r 	0xCB 0x10+r
RLA 	0x17
RLC (HL) 	0xCB 0x06
RLC (IXo) 	0xDD 0xCB o 0x06
RLC (IYo) 	0xFD 0xCB o 0x06
RLC r 	0xCB 0x00+r
RLCA 	0x07
RLD 	0xED 0x6F
RR (HL) 	0xCB 0x1E
RR (IXo) 	0xDD 0xCB o 0x1E
RR (IYo) 	0xFD 0xCB o 0x1E
RR r 	0xCB 0x18+r
RRA 	0x1F
RRC (HL) 	0xCB 0x0E
RRC (IXo) 	0xDD 0xCB o 0x0E
RRC (IYo) 	0xFD 0xCB o 0x0E
RRC r 	0xCB 0x08+r
RRCA 	0x0F
RRD 	0xED 0x67
RST 0 	0xC7
RST 8 	0xCF
RST 8H 	0xCF
RST 10 	0xD7
RST 10H 	0xD7
RST 18 	0xDF
RST 18H 	0xDF
RST 20 	0xE7
RST 20H 	0xE7
RST 28 	0xEF
RST 28H 	0xEF
RST 30 	0xF7
RST 30H 	0xF7
RST 38 	0xFF
RST 38H 	0xFF
SBC A,(HL) 	0x9E
SBC A,(IXo) 	0xDD 0x9E o
SBC A,(IYo) 	0xFD 0x9E o
SBC A,n 	0xDE n
SBC A,r 	0x98+r
SBC A,IXq 	0xDD 0x98+IXq
SBC A,IYq 	0xFD 0x98+IYq
SBC HL,BC 	0xED 0x42
SBC HL,DE 	0xED 0x52
SBC HL,HL 	0xED 0x62
SBC HL,SP 	0xED 0x72
SCF 	0x37
SET b,(HL) 	0xCB 0xC6+8*b
SET b,(IXo) 	0xDD 0xCB o 0xC6+8*b
SET b,(IYo) 	0xFD 0xCB o 0xC6+8*b
SET b,r 	0xCB 0xC0+8*b+r
SLA (HL) 	0xCB 0x26
SLA (IXo) 	0xDD 0xCB o 0x26
SLA (IYo) 	0xFD 0xCB o 0x26
SLA r 	0xCB 0x20+r
SRA (HL) 	0xCB 0x2E
SRA (IXo) 	0xDD 0xCB o 0x2E
SRA (IYo) 	0xFD 0xCB o 0x2E
SRA r 	0xCB 0x28+r
SRL (HL) 	0xCB 0x3E
SRL (IXo) 	0xDD 0xCB o 0x3E
SRL (IYo) 	0xFD 0xCB o 0x3E
SRL r 	0xCB 0x38+r
SUB (HL) 	0x96
SUB (IXo) 	0xDD 0x96 o
SUB (IYo) 	0xFD 0x96 o
SUB n 	0xD6 n
SUB r 	0x90+r
SUB IXq 	0xDD 0x90+IXq
SUB IYq 	0xFD 0x90+IYq
XOR (HL) 	0xAE
XOR (IXo) 	0xDD 0xAE o
XOR (IYo) 	0xFD 0xAE o
XOR n 	0xEE n
XOR r 	0xA8+r
XOR IXq 	0xDD 0xA8+IXq
XOR IYq 	0xFD 0xA8+IYq
